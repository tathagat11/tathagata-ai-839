# Data Processing
# Original Data

dataset_id_96:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: pandas.CSVDataset
    filepath: data/01_raw/dataset_id_96.csv

loaded_data_original:
  type: pandas.ParquetDataset
  filepath: data/02_intermediate/loaded_data_original.parquet
  save_args:
    engine: pyarrow

data_quality_metrics_original:
  type: json.JSONDataset
  filepath: data/08_reporting/data_quality_metrics_original.json

preprocessed_data_original:
  type: pandas.ParquetDataset
  filepath: data/03_primary/preprocessed_data_original.parquet
  save_args:
    engine: pyarrow

features_original:
  type: pandas.ParquetDataset
  filepath: data/04_feature/features_original.parquet
  save_args:
    engine: pyarrow

target_original:
  type: pandas.ParquetDataset
  filepath: data/04_feature/target_original.parquet
  save_args:
    engine: pyarrow

#New Data

dataset_id_T01_V3_96:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: pandas.CSVDataset
    filepath: data/01_raw/dataset_id_T01_V3_96.csv

loaded_data_new:
  type: pandas.ParquetDataset
  filepath: data/02_intermediate/loaded_data_new.parquet
  save_args:
    engine: pyarrow

data_quality_metrics_new:
  type: json.JSONDataset
  filepath: data/08_reporting/data_quality_metrics_new.json

preprocessed_data_new:
  type: pandas.ParquetDataset
  filepath: data/03_primary/preprocessed_data_new.parquet
  save_args:
    engine: pyarrow

features_new:
  type: pandas.ParquetDataset
  filepath: data/04_feature/features_new.parquet
  save_args:
    engine: pyarrow

target_new:
  type: pandas.ParquetDataset
  filepath: data/04_feature/target_new.parquet
  save_args:
    engine: pyarrow

# data science pipeline
# Old data
X_train_original:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/X_train_original.parquet
  save_args:
    engine: pyarrow

X_test_original:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/X_test_original.parquet
  save_args:
    engine: pyarrow

y_train_original:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/y_train_original.parquet
  save_args:
    engine: pyarrow

y_test_original:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/y_test_original.parquet
  save_args:
    engine: pyarrow

# New Data

X_train_new:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/X_train_new.parquet
  save_args:
    engine: pyarrow

X_test_new:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/X_test_new.parquet
  save_args:
    engine: pyarrow

y_train_new:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/y_train_new.parquet
  save_args:
    engine: pyarrow

y_test_new:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/y_test_new.parquet
  save_args:
    engine: pyarrow


# Old model: model_a, New model: model_b
model_a:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_mlflow.io.models.MlflowModelLocalFileSystemDataset
    flavor: mlflow.sklearn
    filepath: data/06_models/model_a.pickle

model_b:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_mlflow.io.models.MlflowModelLocalFileSystemDataset
    flavor: mlflow.sklearn
    filepath: data/06_models/model_b.pickle

metrics_a_original:
  type: json.JSONDataset
  filepath: data/08_reporting/metrics_a_original.json

metrics_a_new:
  type: json.JSONDataset
  filepath: data/08_reporting/metrics_a_new.json

metrics_b_new:
  type: json.JSONDataset
  filepath: data/08_reporting/metrics_b_new.json

selected_model:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_mlflow.io.models.MlflowModelLocalFileSystemDataset
    flavor: mlflow.sklearn
    filepath: data/06_models/selected_model.pickle

selected_model_name:
  type: MemoryDataset